<!DOCTYPE html>
<html>
    <header>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <title>GG's</title>
    <center> <h1 style="color:black;"> Welcome to GG's!</h1> </center>
    </header>
    <center>
    <style>
        body {background-color: DarkRed;}
        h1   {color: blue;}
        p    {color: red;}
        a:link{color: red;}
        a:visited{color: green;}
        a:hover{color: orange;}
        a:active{color: black;}
        .dropbtn{background-color: #4CAF50;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;}
        /* Dropdown button on hover & focus */
        .dropbtn:hover, .dropbtn:focus{background-color: #3e8e41;}
        /* The search field */
        #myInput {box-sizing: border-box;
        background-position: 14px 12px;
        background-repeat: no-repeat;
        font-size: 16px;
        padding: 14px 20px 12px 45px;
        border: none;
        border-bottom: 1px solid #ddd;}
        /* The search field when it gets focus/clicked on */
        #myInput:focus {outline: 3px solid #ddd;}
        /* The container <div> - needed to position the dropdown content */
        .dropdown {
        position: relative;
        display: inline-block;}
        /* Dropdown Content (Hidden by Default) */
        .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f6f6f6;
        min-width: 230px;
        border: 1px solid #ddd;
        z-index: 1;}
        /* Links inside the dropdown */
        .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;}
        /* Change color of dropdown links on hover */
        .dropdown-content a:hover {background-color: #f1f1f1}
        /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
        .show {display:block;}
    </style>
    <div class="topnav">
            <div class="search-container">
                <input type="text" placeholder="Search.." id="keyword">
                <select id="console">
                  <option value="XBOX One">Xbox One</option>
                  <option value="PlayStation 4">Play</option>
                  <option value="Nintendo Switch">Nintento Switch</option>
                  <option value="PC">PC</option>
                </select>
                <select id="new">
                  <option value="Y">New</option>
                  <option value="N">Used</option>
                </select>
                <select id="order">
                  <option value="-price">Price Ascending</option>
                  <option value="price">Price Descending</option>
                </select>

                <button id="searchBtn" type="submit">Search</button>
                <a href="/checkout">Checkout</a>
            </div>
    </div>
    <div id="games">
        
    </div>
    </center>
     <script>
          $("#searchBtn").on("click",function(){
                $.ajax({
                    method: "post",
                    url: "/getGames",
                    dataType: "json",
                    data: { "keyword" : $("#keyword").val(),
                            "console" : $("#console").val(),
                             "new"  : $("#new").val(),
                             "order": $("#order").val()
                    },
                    success: function(result,status) {
                        alert(result);
                        result.forEach(function(game){
                            $("#games").append(`<img src=${game.image}>`);
                        });
                    }   
                });//ajax
        });//click
     </script>
</html>